@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.75rem;
  }

  body {
    @apply text-foreground;
    background: transparent;
  }
}

/* =========================================
   GLOBAL RTL HELPERS FOR ARABIC SUPPORT
   ========================================= */
@layer base {
  [dir="rtl"] {
    direction: rtl;
    text-align: right;
    unicode-bidi: plaintext;
  }

  [dir="rtl"] .num,
  [dir="rtl"] .ltr {
    direction: ltr;
    unicode-bidi: isolate;
    text-align: left;
    display: inline-block;
  }

  [dir="rtl"] .competency-summary-header {
    display: flex;
    flex-direction: row-reverse;
    justify-content: space-between;
    align-items: center;
  }

  [dir="rtl"] .competency-summary-label {
    text-align: right;
  }

  [dir="rtl"] .competency-summary-tier {
    text-align: left;
  }

  [dir="rtl"] .competency-summary-progress {
    display: flex;
    flex-direction: row-reverse;
    align-items: center;
  }

  [dir="rtl"] .swot-list,
  [dir="rtl"] .recommendation-list,
  [dir="rtl"] .upsell-features {
    padding-right: 25px;
    padding-left: 0;
  }
}

/* ==========================================
   SAFE MINIMAL PRINT STYLES
   Only essential fixes - preserves all layouts
   ========================================== */

@media print {
  /* Hide UI elements only */
  .no-print {
    display: none !important;
  }

  /* Professional paper setup */
  @page {
    size: A4 portrait;
    margin: 12mm;
  }

  /* Ensure colors print correctly */
  html, body {
    background: white !important;
    -webkit-print-color-adjust: exact !important;
    color-adjust: exact !important;
  }

  /* Preserve ALL colors and backgrounds */
  * {
    -webkit-print-color-adjust: exact !important;
    color-adjust: exact !important;
  }

  /* RTL support for Arabic */
  [dir="rtl"], [data-rtl="true"] {
    direction: rtl !important;
  }

  [dir="rtl"] *, [data-rtl="true"] * {
    text-align: right !important;
  }

  /* Prevent page breaks in critical elements */
  .recharts-wrapper, 
  .grid > div,
  .rounded-2xl,
  .rounded-3xl {
    page-break-inside: avoid;
  }
}
/* ==========================================
   PROFESSIONAL PDF PRINT OPTIMIZATION
   ========================================== */

@media print {
  /* Remove browser headers/footers and set page format */
  @page {
    margin: 12mm;
    size: A4 portrait;
  }

  /* Global print reset for professional appearance */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    color-adjust: exact !important;
  }

  html, body {
    background: white !important;
    color: #000 !important;
    margin: 0 !important;
    padding: 0 !important;
    font-size: 14px !important;
    line-height: 1.4 !important;
  }

  /* Hide all non-essential elements */
  nav, header, footer, 
  .no-print, button, 
  [role="navigation"], 
  [role="banner"],
  .print-hide {
    display: none !important;
  }

  /* Compact spacing for SCAN results (5-6 page target) */
  .scan-pdf-container {
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  .scan-pdf-container h1 {
    font-size: 22px !important;
    margin: 8px 0 6px 0 !important;
    font-weight: bold !important;
  }

  .scan-pdf-container h2 {
    font-size: 18px !important;
    margin: 6px 0 4px 0 !important;
    font-weight: 600 !important;
  }

  .scan-pdf-container h3 {
    font-size: 16px !important;
    margin: 4px 0 3px 0 !important;
    font-weight: 600 !important;
  }

  .scan-pdf-container p, 
  .scan-pdf-container li {
    font-size: 13px !important;
    line-height: 1.3 !important;
    margin: 2px 0 !important;
  }

  /* Reduce Tailwind spacing classes for print */
  .scan-pdf-container .p-6, 
  .scan-pdf-container .p-8 {
    padding: 8px !important;
  }

  .scan-pdf-container .py-6, 
  .scan-pdf-container .py-8 {
    padding-top: 8px !important;
    padding-bottom: 8px !important;
  }

  .scan-pdf-container .px-6, 
  .scan-pdf-container .px-8 {
    padding-left: 8px !important;
    padding-right: 8px !important;
  }

  .scan-pdf-container .gap-4, 
  .scan-pdf-container .gap-6 {
    gap: 6px !important;
  }

  .scan-pdf-container .space-y-4 > * + *, 
  .scan-pdf-container .space-y-6 > * + * {
    margin-top: 6px !important;
  }

  /* Chart and image optimization */
  .scan-pdf-container canvas, 
  .scan-pdf-container svg, 
  .scan-pdf-container img {
    max-width: 100% !important;
    height: auto !important;
    max-height: 200px !important;
  }

  /* Page break control */
  .pdf-avoid-break {
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }

  .pdf-page-break {
    page-break-before: always !important;
    break-before: page !important;
  }

  /* MRI Premium Report Styles */
  .mri-pdf-container {
    width: 100% !important;
    max-width: 100% !important;
  }

  .mri-pdf-container .pdf-page {
    page-break-after: always !important;
    break-after: page !important;
    min-height: 90vh !important;
    padding: 15mm !important;
  }

  .mri-pdf-container .pdf-page:last-child {
    page-break-after: auto !important;
  }

  /* Preserve RTL for Arabic content */
  [dir="rtl"] {
    direction: rtl !important;
    text-align: right !important;
  }

  [dir="rtl"] .scan-pdf-container,
  [dir="rtl"] .mri-pdf-container {
    direction: rtl !important;
  }

  /* Preserve Tailwind grid layouts */
  .grid {
    display: grid !important;
  }

  .flex {
    display: flex !important;
  }

  /* SWOT matrix optimization */
  .swot-grid {
    page-break-inside: avoid !important;
  }

  .swot-grid .swot-item {
    padding: 6px !important;
    font-size: 12px !important;
  }
}
@media print {
  @page { margin: 12mm; size: A4 portrait; }
  * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
  html, body { background: white !important; margin: 0 !important; padding: 0 !important; font-size: 14px !important; line-height: 1.4 !important; }
  nav, header, footer, button, .print-hide, [role="navigation"], [role="banner"] { display: none !important; }
  .scan-pdf-container { width: 100% !important; max-width: 100% !important; margin: 0 !important; padding: 0 !important; }
  .scan-pdf-container h1 { font-size: 22px !important; margin: 8px 0 6px 0 !important; }
  .scan-pdf-container h2 { font-size: 18px !important; margin: 6px 0 4px 0 !important; }
  .scan-pdf-container h3 { font-size: 16px !important; margin: 4px 0 3px 0 !important; }
  .scan-pdf-container p, .scan-pdf-container li { font-size: 13px !important; line-height: 1.3 !important; margin: 2px 0 !important; }
  .scan-pdf-container .p-6, .scan-pdf-container .p-8 { padding: 8px !important; }
  .scan-pdf-container .py-6, .scan-pdf-container .py-8 { padding-top: 8px !important; padding-bottom: 8px !important; }
  .scan-pdf-container .px-6, .scan-pdf-container .px-8 { padding-left: 8px !important; padding-right: 8px !important; }
  .scan-pdf-container .gap-4, .scan-pdf-container .gap-6 { gap: 6px !important; }
  .scan-pdf-container .space-y-4 > * + *, .scan-pdf-container .space-y-6 > * + * { margin-top: 6px !important; }
  .scan-pdf-container canvas, .scan-pdf-container svg, .scan-pdf-container img { max-width: 100% !important; height: auto !important; max-height: 200px !important; }
  .pdf-avoid-break { page-break-inside: avoid !important; break-inside: avoid !important; }
  .grid { display: grid !important; }
  .flex { display: flex !important; }
  [dir="rtl"] { direction: rtl !important; text-align: right !important; }
}
